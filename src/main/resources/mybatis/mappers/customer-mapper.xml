<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.moim.moimapiserver.customer.CustomerMapper">
    <select id="selectFaqCategory" resultType="com.moim.moimapiserver.dto.FaqCategoryDto">
        SELECT
            *
        FROM
            TBL_FAQ_CATEGORY
    </select>
    <insert id="insertNewCategory" parameterType="com.moim.moimapiserver.dto.FaqDto">
        INSERT
            INTO
                TBL_FAQ (
                    FAQ_CATEGORY,
                    FAQ_TITLE,
                    FAQ_BODY,
                    FAQ_REGISTER_ADMIN
            ) VALUES (
                      #{faq_category},
                      #{faq_title},
                      #{faq_body},
                      #{faq_register_admin}
                                 )
    </insert>
    <select id="selectFaq" resultType="com.moim.moimapiserver.dto.FaqDto">
        SELECT
            *
        FROM
            TBL_FAQ
        <where>
            <if test="sort != 0">
                FAQ_CATEGORY = #{sort}
            </if>
        </where>
        LIMIT #{size} OFFSET #{offset}
    </select>
    <select id="selectFaqCount">
        SELECT
            COUNT(*)
        FROM
            TBL_FAQ
        <where>
            <if test="sort != 0">
                FAQ_CATEGORY = #{sort}
            </if>
        </where>
        LIMIT #{size} OFFSET #{offset}
    </select>

    <delete id="deleteFaqByFaqNo" parameterType="int">
        DELETE
            FROM
                TBL_FAQ
            WHERE
                FAQ_NO = #{faq_no}
    </delete>

    <update id="updateFaqByFaqNo" parameterType="com.moim.moimapiserver.dto.FaqDto">
        UPDATE
            TBL_FAQ
        SET
            FAQ_CATEGORY = #{faq_category},
            FAQ_TITLE = #{faq_title},
            FAQ_BODY = #{faq_body},
            FAQ_REGISTER_ADMIN = #{faq_register_admin},
            FAQ_MOD_DATE = NOW()
        WHERE
            FAQ_NO = #{faq_no}
    </update>
</mapper>